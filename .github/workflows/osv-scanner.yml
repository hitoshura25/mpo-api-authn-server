name: OSV-Scanner Vulnerability Scan

on:
  pull_request:
    branches: [ main, develop ]
  push:
    branches: [ main ]

permissions:
  actions: read
  security-events: write
  contents: read

jobs:
  scan-pr:
    uses: "google/osv-scanner-action/.github/workflows/osv-scanner-reusable-pr.yml@v2.2.1"
    with:
      upload-sarif: true
      fail-on-vuln: false
      scan-args: |
        --recursive
        --allow-no-lockfiles
